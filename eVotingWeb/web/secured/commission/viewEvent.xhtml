<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:param name="title" value="View event" />
    <ui:define name="content">
        <f:view>
            <ui:insert name="menu">
                <ui:include src="/WEB-INF/templates/menus/commissioner.xhtml" />
            </ui:insert>
            <h:messages styleClass="message" />

            <div>
                <table class="electionsInfo">
                    <tr>
                        <th>Event name:</th>
                        <td><h:outputText value="#{electionEvent.eventName}" /></td>
                    </tr>
                    <tr>
                        <th>Event info:</th>
                        <td><h:outputText value="#{electionEvent.info}" /></td>
                    </tr>
                </table>
            </div>
            <br/>
            <div>
                <h:form>
                    <h:dataTable style="float:left" styleClass="elections" cellspacing="0" value="#{voting.allVoters}" var="item">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Voters"/>
                            </f:facet>
                            <h:outputText value="#{item.login}"/>
                        </h:column>
                        <h:column>
                            <h:commandLink styleClass="link" action="#{voting.deleteVoter}"  >
                                <h:outputText value="Remove" />
                                <f:param name="voterLogin" value="#{item.login}" />
                            </h:commandLink>
                        </h:column>
                    </h:dataTable>
                </h:form>
                <h:form>
                    <h:dataTable style="float: left" styleClass="elections" cellspacing="0" value="#{electionEvent.candidates}" var="item">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Candidates"/>
                            </f:facet>
                            <h:outputText value="#{item.login}"/>
                        </h:column>
                        <h:column>
                            <h:outputText value="#{item.candidateRole}" />
                        </h:column>
                        <h:column>
                            <h:commandLink styleClass="link" action="#{electionEvent.deleteCandidate}">
                                <h:outputText value="Remove" />
                                <f:param name="candidateLogin" value="#{item.login}" />
                            </h:commandLink>
                        </h:column>

                    </h:dataTable>
                </h:form>

                <h:form rendered="#{!electionEvent.renderStartNominating}">
                    <h:dataTable styleClass="elections" cellspacing="0" value="#{electionEvent.agreedCom}" var="item">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{electionEvent.commissionersAgreeTableHeader}"/>
                            </f:facet>
                            <h:outputText value="#{item.login}" />
                        </h:column>
                    </h:dataTable>
                </h:form>

            </div>
            <div style="clear: both; padding-top: 10px">
                <ul class="buttons">
                    <h:form>
                        <li>
                        <h:commandLink value="Start nominating" action="#{nominating.startNominating}" rendered="#{electionEvent.renderStartNominating}" />
                        </li>
                        <li>
                        <h:commandLink value="End nominating" action="#{nominating.endNominating}" rendered="#{electionEvent.renderEndNominating}" />
                        </li>
                        <li>
                        <h:commandLink value="Start voting" action="#{voting.startVoting}" rendered="#{electionEvent.renderStartVoting}" />
                        </li>
                        <li>
                        <h:commandLink value="End voting" action="#{voting.endVoting}" rendered="#{electionEvent.renderEndVoting}" />
                        </li>
                    </h:form>
                    <li>
                    <h:outputLink styleClass="button" value="addVoter.xhtml">
                        Add voter
                    </h:outputLink>
                    </li>
                </ul>
            </div>
        </f:view>
    </ui:define>
</ui:composition>
